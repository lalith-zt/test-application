version: 2
jobs:
  build:
    docker:
      - image: gradle
    steps:
      - checkout
      - run: gradle clean
      - run: gradle fatJar
  hold:
    type: approval
    requires: build
    steps:
      - run: echo "Received Approval for deployment"
  deploy:
    requires:
      - hold
    docker:
      - image: gradle
    steps:
      - run: echo "Application has been deployed"